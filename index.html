<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø´Ø±ÙƒØ© Ø§Ù„Ø¯Ø¹Ù… Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<style>
/* ===== CSS Variables ===== */
:root {
    --primary-color: #4a148c;
    --primary-hover: #6a1b9a;
    --secondary-color: #9575cd;
    --secondary-hover: #7e57c2;
    --accent-color: #ffd700;
    --text-color: #333;
    --light-bg: #f5f5f5;
}

/* ===== General Styles ===== */
body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(-45deg, #e0f7fa, #e1bee7, #d1c4e9, #b2dfdb);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    margin: 0; 
    padding: 20px; 
    color: var(--text-color);
    min-height: 100vh;
    text-align: center;
}

@keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.welcome-banner {
    background: rgba(255,255,255,0.8);
    border-radius: 16px;
    padding: 15px;
    margin: 0 auto 25px;
    max-width: 500px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    border: 1px solid rgba(74,20,140,0.1);
    animation: fadeInDown 0.6s ease;
}

.welcome-banner h2 {
    font-weight: 700;
    font-size: 1.8rem;
    margin-bottom: 5px;
    color: var(--primary-color);
}

.welcome-banner p {
    color: #666;
    margin-top: 8px;
    font-size: 1.1rem;
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===== Buttons ===== */
button.button {
    background-color: var(--primary-color); 
    color: white; 
    border: none; 
    border-radius: 14px;
    padding: 14px 20px; 
    margin: 10px auto; 
    width: 90%; 
    max-width: 360px;
    font-size: 1.1rem; 
    cursor: pointer; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    gap: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(74,20,140,0.3);
    position: relative;
    overflow: hidden;
}

button.button:hover { 
    background-color: var(--primary-hover); 
    transform: translateY(-3px); 
    box-shadow: 0 6px 12px rgba(106,27,154,0.4);
}

button.button:active { 
    transform: scale(0.97); 
    animation: shake 0.4s ease;
}

button.button.active { 
    background-color: #7b1fa2; 
    box-shadow: 0 6px 12px rgba(123,31,162,0.6); 
}

button.button i { 
    font-size: 1.4rem; 
    color: var(--accent-color); 
}

button.button::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: rgba(255,255,255,0.1);
    transform: rotate(30deg);
    transition: all 0.3s ease;
}

button.button:hover::after {
    left: 100%;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-5px); }
    40%, 80% { transform: translateX(5px); }
}

/* ===== Sections ===== */
.sub-buttons, .phone-list, .links-box {
    background: white; 
    border-radius: 16px; 
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    margin: 10px auto 25px; 
    max-width: 360px; 
    width: 90%; 
    padding: 15px 20px; 
    text-align: right; 
    direction: rtl;
    animation: fadeIn 0.4s ease forwards;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.sub-buttons:hover, .phone-list:hover, .links-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 20px rgba(0,0,0,0.15);
}

.hidden { display: none; }

@keyframes fadeIn { 
    from { opacity: 0; transform: translateY(10px); } 
    to { opacity: 1; transform: translateY(0); } 
}

/* Sub Buttons */
.sub-buttons .button, .links-box .button {
    background-color: var(--secondary-color); 
    color: white; 
    font-size: 1rem; 
    padding: 12px 15px; 
    margin: 8px auto;
    max-width: 320px; 
    width: 100%; 
    box-shadow: 0 3px 6px rgba(149,117,205,0.5);
}

.sub-buttons .button:hover, .links-box .button:hover { 
    background-color: var(--secondary-hover); 
}

/* Phone List */
.phone-list p { 
    font-size: 1rem; 
    margin: 8px 0; 
    color: #555; 
    display: flex; 
    align-items: center; 
    gap: 8px; 
    justify-content: flex-end; 
}

.phone-list p::before { 
    content: "ğŸ“Œ"; 
    font-size: 1.1rem; 
}

/* Search Input */
.search-box {
    width: 90%;
    padding: 12px;
    margin: 10px auto;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
    display: block;
}

/* ===== ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ù…Ø¹ Ø§Ø³Ù… Ø§Ù„Ù…ØµÙ…Ù… ===== */
.footer {
    margin-top: 40px;
    padding: 20px;
    text-align: center;
    position: relative;
}

.designer-signature {
    display: inline-block;
    background: linear-gradient(135deg, #4a148c, #7b1fa2);
    color: white;
    padding: 10px 25px;
    border-radius: 30px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(74, 20, 140, 0.3);
    transform: perspective(500px) rotateX(5deg);
    transition: all 0.3s ease;
    border: 2px solid rgba(255, 215, 0, 0.3);
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.designer-signature:hover {
    transform: perspective(500px) rotateX(0) translateY(-3px);
    box-shadow: 0 6px 16px rgba(74, 20, 140, 0.4);
}

.designer-signature::before {
    content: "âœï¸";
    margin-left: 8px;
    font-size: 1.2em;
}

/* ===== ØªÙØµÙŠÙ„ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª ÙÙŠ Ø¬Ø¯ÙˆÙ„ ===== */
.deductions-table {
    width: 100%;
    margin: 15px 0;
    border-collapse: collapse;
    background: rgba(244, 67, 54, 0.05);
    border-radius: 8px;
    overflow: hidden;
}

.deductions-table th {
    background: rgba(244, 67, 54, 0.1);
    color: #f44336;
    padding: 8px;
    font-weight: 700;
}

.deductions-table td {
    padding: 8px;
    border-bottom: 1px solid rgba(244, 67, 54, 0.1);
}

.deductions-table tr:last-child td {
    border-bottom: none;
}

.deductions-table .deduction-value {
    color: #f44336;
    font-weight: 600;
}

/* ===== Modal ===== */
#salaryQueryModal { 
    display: none; 
    position: fixed; 
    top: 0; 
    left: 0; 
    right: 0; 
    bottom: 0; 
    background: rgba(0,0,0,0.6); 
    justify-content: center; 
    align-items: center; 
    z-index: 9999; 
    overflow-y: auto;
    padding: 20px 0;
}

#salaryQueryModal .modal-content { 
    background: white; 
    padding: 20px; 
    border-radius: 12px; 
    max-width: 420px; 
    width: 92%; 
    text-align: right; 
    direction: rtl;
    max-height: 90vh;
    overflow-y: auto;
    animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

#salaryQueryModal label { 
    display: block; 
    margin-top: 8px; 
    text-align: right; 
}

#salaryQueryModal input, #salaryQueryModal select {
    width: 100%; 
    padding: 10px; 
    margin: 8px 0; 
    font-size: 1rem; 
    border: 1px solid #ccc; 
    border-radius: 6px; 
    box-sizing: border-box;
}

#salaryQueryModal .modal-actions { 
    display: flex; 
    gap: 10px; 
    margin-top: 8px; 
}

#salaryQueryModal .btn { 
    flex: 1; 
    background-color: var(--primary-color); 
    color: white; 
    border: none; 
    padding: 10px; 
    border-radius: 10px; 
    cursor: pointer; 
}

#salaryQueryModal .btn.secondary { 
    background: #777; 
}

/* Salary Result */
#salaryResult { 
    margin-top: 15px; 
    text-align: right; 
    color: var(--text-color); 
    font-weight: 600; 
    white-space: pre-line; 
    overflow-x: auto;
}

.salary-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 15px;
}

.salary-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.salary-amount {
    font-size: 1.5rem;
    color: var(--primary-color);
    font-weight: bold;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    margin: 10px 0;
}

.print-btn {
    margin-top: 15px !important;
    background-color: #607d8b !important;
}

/* Toast Notifications */
.toast {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #4caf50;
    color: white;
    padding: 12px 20px;
    border-radius: 4px;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s;
}

.toast.show {
    opacity: 1;
}

.toast.error {
    background: #f44336;
}

/* Dark Mode Toggle */
.dark-mode-toggle {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: var(--primary-color);
    color: white;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    z-index: 1000;
    transition: all 0.3s ease;
}

.dark-mode-toggle:hover {
    transform: scale(1.1);
}

/* Dark Mode Styles */
.dark-mode {
    background: linear-gradient(to right, #121212, #1e0033);
    color: #eee;
}

.dark-mode .welcome-banner,
.dark-mode .sub-buttons,
.dark-mode .phone-list,
.dark-mode .links-box,
.dark-mode .salary-card,
.dark-mode #salaryQueryModal .modal-content {
    background: #222;
    color: #eee;
    border: 1px solid #333;
}

.dark-mode .welcome-banner p,
.dark-mode .phone-list p {
    color: #ccc;
}

.dark-mode button.button {
    background-color: #673ab7;
}

.dark-mode .sub-buttons .button,
.dark-mode .links-box .button {
    background-color: #5e35b1;
}

.dark-mode .search-box,
.dark-mode #salaryQueryModal input,
.dark-mode #salaryQueryModal select {
    background: #333;
    color: #fff;
    border-color: #444;
}

.dark-mode .designer-signature {
    background: linear-gradient(135deg, #673ab7, #9575cd);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    border-color: rgba(255, 215, 0, 0.2);
}

.dark-mode .deductions-table {
    background: rgba(244, 67, 54, 0.08);
}

.dark-mode .deductions-table th {
    background: rgba(244, 67, 54, 0.15);
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Responsive */
@media (max-width: 600px) {
    .welcome-banner h2 { font-size: 1.5rem; }
    button.button { font-size: 1rem; padding: 12px 16px; }
    .sub-buttons .button, .links-box .button { font-size: 0.95rem; padding: 10px 14px; }
    .phone-list p { font-size: 0.9rem; }
}
</style>
</head>
<body>

<div class="welcome-banner">
    <h2>ğŸ‘‹ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø´Ø±ÙƒØ© Ø§Ù„Ø¯Ø¹Ù… Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª</h2>
    <p>Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª</p>
</div>

<!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
<button class="button" data-target="forms" onclick="toggleSection(event)">
    <i class="fas fa-file-alt"></i> Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
</button>
<div id="forms" class="sub-buttons hidden" role="region" aria-label="Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø·Ù„Ø¨Ø§Øª">
    <button class="button" onclick="showFile('Ø·Ù„Ø¨-Ø¥Ø¬Ø§Ø²Ø©')"><i class="fas fa-file-signature"></i> Ø·Ù„Ø¨ Ø¥Ø¬Ø§Ø²Ø©</button>
    <button class="button" onclick="showFile('Ø·Ù„Ø¨-Ø³Ù„ÙØ©')"><i class="fas fa-money-check-alt"></i> Ø·Ù„Ø¨ Ø³Ù„ÙØ© Ù…Ø§Ù„ÙŠØ©</button>
    <button class="button" onclick="showFile('ØµÙŠØ§Ù†Ø©-Ø³ÙŠØ§Ø±Ø©')"><i class="fas fa-car-side"></i> Ø·Ù„Ø¨ ØµÙŠØ§Ù†Ø© Ø³ÙŠØ§Ø±Ø©</button>
    <button class="button" onclick="showFile('Ù…Ø¨Ù„Øº-Ø§Ù„Ø®Ø²ÙŠÙ†Ø©')"><i class="fas fa-wallet"></i> Ø·Ù„Ø¨ Ù…Ø¨Ù„Øº Ù…Ù† Ø§Ù„Ø®Ø²ÙŠÙ†Ø©</button>
    <button class="button" onclick="showFile('Ø¹Ù…Ù„-Ø¥Ø¶Ø§ÙÙŠ')"><i class="fas fa-clock"></i> Ø·Ù„Ø¨ Ø¹Ù…Ù„ Ø¥Ø¶Ø§ÙÙŠ</button>
    <button class="button" onclick="showFile('ØªØ­ÙˆÙŠÙ„-Ø¹Ù‡Ø¯Ø©')"><i class="fas fa-box"></i> ØªØ­ÙˆÙŠÙ„ Ø¹Ù‡Ø¯Ø© Ø´Ø®ØµÙŠØ©</button>
    <button class="button" onclick="showFile('Ø¹Ù„Ø§ÙˆØ©-Ø³ÙØ±')"><i class="fas fa-plane"></i> Ø¹Ù„Ø§ÙˆØ© Ø³ÙØ±</button>
    <button class="button" onclick="showFile('Ø£Ù…Ø±-Ø¹Ù…Ù„')"><i class="fas fa-tools"></i> Ø£Ù…Ø± Ø¹Ù…Ù„ ÙˆØ±Ø´Ø©</button>
    <button class="button" onclick="showFile('Ø·Ù„Ø¨-Ø¥Ø°Ù†')"><i class="fas fa-calendar-check"></i> Ø·Ù„Ø¨ Ø¥Ø°Ù†</button>
    <button class="button" onclick="showFile('ØªØ±Ø¬ÙŠØ¹-Ù…ÙˆØ§Ø¯')"><i class="fas fa-undo-alt"></i> ØªØ±Ø¬ÙŠØ¹ Ù…ÙˆØ§Ø¯ Ù„Ù„Ù…Ø®Ø²Ù†</button>
    <button class="button" onclick="showFile('Ø·Ù„Ø¨-Ø¨Ø°Ù„-ÙˆØ£Ø­Ø°ÙŠØ©')"><i class="fas fa-shoe-prints"></i> Ø·Ù„Ø¨ Ø¨Ø°Ù„ ÙˆØ£Ø­Ø°ÙŠØ©</button>
</div>

<button class="button" data-target="phones" onclick="toggleSection(event)">
    <i class="fas fa-phone"></i> Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©
</button>
<div id="phones" class="phone-list hidden" role="region" aria-label="Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©">
    <input type="text" class="search-box" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø³Ù… Ø£Ùˆ Ø±Ù‚Ù…..." id="phoneSearch">
    <p>Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù…: <strong>116</strong></p>
    <p>Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¬ÙˆØ¯Ø©: <strong>101</strong></p>
    <p>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ù…Ø§Ù„ÙŠØ©: <strong>102</strong></p>
    <p>Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©: <strong>103</strong></p>
    <p>Ø§Ù„Ø®Ø²ÙŠÙ†Ø©: <strong>104</strong></p>
    <p>Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª: <strong>106</strong></p>
    <p>Ù…ÙƒØªØ¨ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©: <strong>107</strong></p>
    <p>Ù…ÙƒØªØ¨ Ø§Ù„Ø£ØµÙˆÙ„: <strong>108</strong></p>
    <p>Ù…ÙƒØªØ¨ Ø§Ù„ØªØµØ§Ù…ÙŠÙ…: <strong>109</strong></p>
    <p>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª: <strong>110</strong></p>
    <p>Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„ÙÙ†ÙŠØ©: <strong>112</strong></p>
    <p>Ù…ÙƒØªØ¨ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª: <strong>113</strong></p>
    <p>Ù…ÙƒØªØ¨ Ù…ØµØ·ÙÙ‰ Ø¯Ø±Ø²: <strong>115</strong></p>
    <p>Ù…ÙƒØªØ¨ Ø§Ù„ØªÙˆØ«ÙŠÙ‚ ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©: <strong>117</strong></p>
    <p>Ù…ÙƒØªØ¨ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…: <strong>118</strong></p>
    <p>Ù…ÙƒØªØ¨ Ø¹Ø¨Ø¯Ø§Ù„Ø³Ù„Ø§Ù… Ø£Ø¨Ùˆ Ø­Ø¬Ø±: <strong>123</strong></p>
    <p>Ù‚Ø³Ù… Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡: <strong>120</strong></p>
    <p>Ù…Ù‚Ù‡Ù‰ (ØºØ§Ù†Ø¯ÙŠ): <strong>223</strong></p>
    <p>Ù…Ù‚Ù‡Ù‰ (Ø­Ø³Ù†): <strong>105</strong></p>
</div>

<button class="button" data-target="links" onclick="toggleSection(event)">
    <i class="fas fa-globe"></i> Ø§Ù„ØµÙØ­Ø§Øª ÙˆØ§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©
</button>
<div id="links" class="links-box hidden" role="region" aria-label="Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©">
    <button class="button" onclick="openLink('https://www.facebook.com/share/15ws7sBHJe/')">
        <i class="fab fa-facebook"></i> Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ
    </button>
    <button class="button" onclick="openLink('https://chat.whatsapp.com/LW5Hn0DREoz8JLwFlQYVNd?mode=r_c')">
        <i class="fab fa-whatsapp"></i> Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
    </button>
</div>

<button class="button" onclick="openSalaryModal()">
    <i class="fas fa-money-bill-wave"></i> Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø§Ù„Ø±Ø§ØªØ¨
</button>

<div id="salaryQueryModal" onclick="closeModalOnOutsideClick(event)">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <h3 id="modalTitle"> Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø§Ù„Ø±Ø§ØªØ¨ </h3>
        <label for="salaryMonth">Ø§Ø®ØªØ± Ø§Ù„Ø´Ù‡Ø±:</label>
        <select id="salaryMonth"><option>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø´Ù‡Ø±...</option></select>
        <label for="employeeNumber">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ:</label>
        <input type="text" id="employeeNumber" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ" autocomplete="off" />
        <label for="employeePass">Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ:</label>
        <input type="password" id="employeePass" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ" autocomplete="off" />
        <div class="modal-actions">
            <button class="btn" onclick="querySalary()">Ø§Ø³ØªØ¹Ù„Ø§Ù…</button>
            <button class="btn secondary" onclick="closeSalaryModal()">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
        <div id="salaryResult" role="alert" aria-live="polite"></div>
    </div>
</div>

<div class="footer">
    <div class="designer-signature">Mustafa_Jamal_Darrez</div>
</div>

<script>
const webAppUrl = "https://script.google.com/macros/s/AKfycbwJbpS9Pjq3yhxKaJXlhQ5IelMPYu6eCqwaAP95O3hrhjrW_d4Gq8IAlaPxyez--D6i/exec";

// DOM Loaded
document.addEventListener('DOMContentLoaded', function() {
    initPhoneSearch();
    addDarkModeToggle();
});

function toggleSection(e){
    const btn = e.currentTarget;
    const targetId = btn.getAttribute('data-target');
    const section = document.getElementById(targetId);
    const isHidden = section.classList.contains('hidden');
    
    // Close other sections
    ['forms','phones','links'].forEach(id=>{
        if(id!==targetId){
            document.getElementById(id).classList.add('hidden');
            document.querySelector(`button[data-target="${id}"]`)?.classList.remove('active');
        }
    });
    
    // Toggle current section
    if(section) section.classList.toggle('hidden',!isHidden);
    btn.classList.toggle('active',isHidden);
}

function openLink(url){ 
    window.open(url,'_blank'); 
}

function showFile(type){
    const files = {
        "Ø·Ù„Ø¨-Ø¥Ø¬Ø§Ø²Ø©":"https://drive.google.com/file/d/14F9mOApxw9GrZXp-O9ti3YQMVZqHaf-m/view?usp=drive_link",
        "Ø·Ù„Ø¨-Ø³Ù„ÙØ©":"https://drive.google.com/file/d/1YFIuOCv3oLgLzkS0LTfUwKUMPvelwgZ6/view?usp=drive_link",
        "ØµÙŠØ§Ù†Ø©-Ø³ÙŠØ§Ø±Ø©":"https://drive.google.com/file/d/1PzSLS-yCN0b_mBS3OpYFnBD2drYGNVGs/view?usp=drive_link",
        "Ù…Ø¨Ù„Øº-Ø§Ù„Ø®Ø²ÙŠÙ†Ø©":"https://drive.google.com/file/d/1sDewUsh6_G6SVk498S6oKiE5LqdElN_r/view?usp=drive_link",
        "Ø¹Ù…Ù„-Ø¥Ø¶Ø§ÙÙŠ":"https://drive.google.com/file/d/11XjQvu0vp2XxpCnfDNgRhFCebR1eglRu/view?usp=drive_link",
        "ØªØ­ÙˆÙŠÙ„-Ø¹Ù‡Ø¯Ø©":"https://drive.google.com/file/d/1usb7bbwovo6K248dzoE3sI71YupbdKJe/view?usp=drive_link",
        "Ø¹Ù„Ø§ÙˆØ©-Ø³ÙØ±":"https://drive.google.com/file/d/1UHs1VJf-9u9FZDn16oFS9Mtj1VYvG7b8/view?usp=drive_link",
        "Ø£Ù…Ø±-Ø¹Ù…Ù„":"https://drive.google.com/file/d/1T3GFaTnXm6CrXfOETFkN_t42a7UbWibY/view?usp=drive_link",
        "Ø·Ù„Ø¨-Ø¥Ø°Ù†":"https://drive.google.com/file/d/1PWMVPtfFsUtbEbNZLHfKaMS9bYBq5E8f/view?usp=drive_link",
        "ØªØ±Ø¬ÙŠØ¹-Ù…ÙˆØ§Ø¯":"https://drive.google.com/file/d/1kn1jsYSUmhBrT3Y94XkwVhqUsN9x_Ly5/view?usp=drive_link",
        "Ø·Ù„Ø¨-Ø¨Ø°Ù„-ÙˆØ£Ø­Ø°ÙŠØ©":"https://drive.google.com/file/d/1RQqTqAa9WG03UvT966ZK1axhdFipXhW5/view?usp=drive_link"
    };
    
    const fileUrl = files[type];
    if(fileUrl) {
        window.open(fileUrl,'_blank');
        showToast(`Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ ${type}`, 'success');
    }
    else {
        showToast("Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…Ù„Ù Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø¹Ø¯.", 'error');
    }
}

function openSalaryModal(){
    document.getElementById('salaryQueryModal').style.display='flex';
    document.getElementById('salaryResult').textContent='';
    document.getElementById('employeeNumber').value='';
    document.getElementById('employeePass').value='';
    document.getElementById('employeeNumber').focus();
    loadMonths();
}

function closeSalaryModal(){ 
    document.getElementById('salaryQueryModal').style.display='none'; 
}

function closeModalOnOutsideClick(e){ 
    if(e.target.id==='salaryQueryModal') closeSalaryModal(); 
}

function safeValue(value){ 
    return value===undefined||value===null||value===""?"0":value; 
}

async function loadMonths(){
    const select = document.getElementById('salaryMonth');
    select.innerHTML="<option value=''>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</option>";
    try{
        const res = await fetch(`${webAppUrl}?action=months`);
        const months = await res.json();
        select.innerHTML="<option value=''>Ø§Ø®ØªØ± Ø§Ù„Ø´Ù‡Ø±</option>";
        months.forEach(m=>{
            const opt = document.createElement('option');
            opt.value = m; 
            opt.textContent=m;
            select.appendChild(opt);
        });
    }catch(e){
        select.innerHTML="<option value=''>Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø´Ù‡Ø±</option>";
        console.error(e);
        showToast("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø´Ù‡Ø±", 'error');
    }
}

async function querySalary(){
    const number = document.getElementById('employeeNumber').value.trim();
    const pass = document.getElementById('employeePass').value.trim();
    const month = document.getElementById('salaryMonth').value;
    const resultDiv = document.getElementById('salaryResult');

    if(!month){ 
        showToast("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø´Ù‡Ø±", 'error');
        return; 
    }
    if(!number || !pass){ 
        showToast("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ ÙˆØ§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ", 'error');
        return; 
    }

    resultDiv.innerHTML = '<div style="text-align:center;"><i class="fas fa-spinner fa-spin fa-2x"></i><p>Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p></div>';

    try{
        const response = await fetch(`${webAppUrl}?action=query&month=${encodeURIComponent(month)}&number=${encodeURIComponent(number)}&pass=${encodeURIComponent(pass)}`);
        if(!response.ok) throw new Error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…");
        
        const data = await response.json();
        console.log("Response from Apps Script:",data);

        if(data.error){ 
            showToast(data.error, 'error');
            return; 
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ Ø¨Ø·Ø§Ù‚Ø© Ø¬Ù…ÙŠÙ„Ø©
        let html = `
        <div class="salary-card">
            <div class="salary-header">
                <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø§ØªØ¨ Ù„Ø´Ù‡Ø± ${month}</h3>
                <span class="salary-amount">${safeValue(data.net)}  Ø¯.Ù„</span>
            </div>
            <div class="salary-details">
                <div class="detail-row">
                    <span>Ø§Ù„Ø§Ø³Ù…</span>
                    <strong>${data.name || 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}</strong>
                </div>
                <div class="detail-row">
                    <span>Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</span>
                    <strong>${safeValue(data.basic)}  Ø¯.Ù„</strong>
                </div>
                <div class="detail-row">
                    <span>Ø§Ù„Ø¹Ù„Ø§ÙˆØ§Øª</span>
                    <strong>${safeValue(data.bonus)} Ø¯.Ù„</strong>
                </div>
                <div class="detail-row">
                    <span>Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ</span>
                    <strong>${safeValue(data.extra)} Ø¯.Ù„</strong>
                </div>
                <div class="detail-row">
                    <span>Ø¨Ø¯Ù„ Ù‡Ø§ØªÙ</span>
                    <strong>${safeValue(data.phoneAllowance)} Ø¯.Ù„</strong>
                </div>
                
                <!-- ØªÙØµÙŠÙ„ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª ÙÙŠ Ø¬Ø¯ÙˆÙ„ -->
                <table class="deductions-table">
                    <thead>
                        <tr>
                            <th colspan="2">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Ø®ØµÙ… Ø§Ù„ØºÙŠØ§Ø¨</td>
                            <td class="deduction-value">-${safeValue(data.absenceDeduct)} Ø¯.Ù„</td>
                        </tr>
                        <tr>
                            <td>Ø®ØµÙ… Ø§Ù„Ø¹Ù‚ÙˆØ¨Ø©</td>
                            <td class="deduction-value">-${safeValue(data.penaltyDeduct)}  Ø¯.Ù„</td>
                        </tr>
                        <tr>
                            <td>Ø®ØµÙ… Ø§Ù„Ø³Ù„ÙØ©</td>
                            <td class="deduction-value">-${safeValue(data.loanDeduct)}  Ø¯.Ù„</td>
                        </tr>
                        <tr>
                            <td><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª</strong></td>
                            <td class="deduction-value"><strong>-${(parseFloat(safeValue(data.absenceDeduct)) + parseFloat(safeValue(data.penaltyDeduct)) + parseFloat(safeValue(data.loanDeduct))).toFixed(2)}  Ø¯.Ù„</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <button class="button print-btn" onclick="window.print()">
            <i class="fas fa-print"></i> Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†
        </button>`;
        
        resultDiv.innerHTML = html;
        showToast("ØªÙ… Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø§ØªØ¨ Ø¨Ù†Ø¬Ø§Ø­", 'success');
       
    }catch(err){
        console.error(err);
        showToast("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.", 'error');
    }
}

// Phone Search Functionality
function initPhoneSearch() {
    const searchInput = document.getElementById('phoneSearch');
    if(searchInput) {
        searchInput.addEventListener('input', function() {
            const filter = this.value.toUpperCase();
            const phoneItems = document.querySelectorAll('#phones p:not(:first-child)');
            
            phoneItems.forEach(item => {
                const text = item.textContent || item.innerText;
                item.style.display = text.toUpperCase().includes(filter) ? '' : 'none';
            });
        });
    }
}

// Dark Mode Toggle
function addDarkModeToggle() {
    const toggle = document.createElement('div');
    toggle.className = 'dark-mode-toggle';
    toggle.innerHTML = '<i class="fas fa-moon"></i>';
    document.body.appendChild(toggle);
    
    // Check for saved user preference
    if(localStorage.getItem('darkMode') === 'enabled') {
        document.body.classList.add('dark-mode');
        toggle.querySelector('i').classList.replace('fa-moon', 'fa-sun');
    }
    
    toggle.addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');
        const icon = this.querySelector('i');
        
        if (document.body.classList.contains('dark-mode')) {
            icon.classList.replace('fa-moon', 'fa-sun');
            localStorage.setItem('darkMode', 'enabled');
        } else {
            icon.classList.replace('fa-sun', 'fa-moon');
            localStorage.setItem('darkMode', 'disabled');
        }
    });
}

// Toast Notification
function showToast(message, type = 'success') {
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
        toast.classList.add('show');
        setTimeout(() => {
            toast.remove();
        }, 3000);
    }, 100);
}
</script>

</body>
</html>
