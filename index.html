<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <!-- ...Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯ ÙƒÙ…Ø§ Ù‡Ùˆ... -->

  <style>
    /* ...Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø³ØªØ§ÙŠÙ„Ø§Øª ÙƒÙ…Ø§ Ù‡ÙŠ... */

    /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
    #salaryQueryModal {
      display: none; 
      position: fixed;
      top: 0; left: 0; right:0; bottom:0;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #salaryQueryModal .modal-content {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 350px;
      width: 90%;
      text-align: right;
      direction: rtl;
    }
    #salaryQueryModal input {
      width: 100%;
      padding: 8px;
      margin: 8px 0 15px 0;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    #salaryQueryModal button {
      background-color: #4a148c;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 14px;
      cursor: pointer;
      font-size: 1rem;
      width: 100%;
    }
    #salaryQueryModal button:hover {
      background-color: #6a1b9a;
    }
    #salaryResult {
      margin-top: 15px;
      text-align: right;
      color: #333;
      font-weight: 600;
      white-space: pre-line;
    }
  </style>
</head>
<body>

<h2>ğŸ‘‹ Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø®Ø§Øµ Ø¨Ø´Ø±ÙƒØ© Ø§Ù„Ø¯Ø¹Ù… Ù„Ù„Ù…Ù‚Ø§ÙˆÙ„Ø§Øª</h2>

<!-- Ø²Ø± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ -->
<button class="button" data-target="forms" onclick="toggleSection(event)">
  <i class="fas fa-file-alt"></i> Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
</button>
<!-- ... Ø¨Ø§Ù‚ÙŠ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙƒÙ…Ø§ ÙÙŠ ÙƒÙˆØ¯Ùƒ ... -->

<!-- Ø²Ø± Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ -->
<button class="button" data-target="phones" onclick="toggleSection(event)">
  <i class="fas fa-phone"></i> Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©
</button>
<!-- ... Ø¨Ø§Ù‚ÙŠ Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡ÙˆØ§ØªÙ ... -->

<!-- Ø²Ø± Ø§Ù„ØµÙØ­Ø§Øª ÙˆØ§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª -->
<button class="button" data-target="links" onclick="toggleSection(event)">
  <i class="fas fa-globe"></i> Ø§Ù„ØµÙØ­Ø§Øª ÙˆØ§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©
</button>
<!-- ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· ... -->

<!-- Ø²Ø± Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø±Ø§ØªØ¨ -->
<button class="button" onclick="openSalaryModal()">
  <i class="fas fa-money-bill-wave"></i> Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø§Ù„Ø±Ø§ØªØ¨
</button>

<!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… -->
<div id="salaryQueryModal">
  <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <h3 id="modalTitle">Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø¹Ù† Ø§Ù„Ø±Ø§ØªØ¨</h3>
    <label for="employeeNumber">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ:</label>
    <input type="text" id="employeeNumber" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ" autocomplete="off" />
    <label for="employeePass">Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ:</label>
    <input type="password" id="employeePass" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ" autocomplete="off" />
    <button onclick="querySalary()">Ø§Ø³ØªØ¹Ù„Ø§Ù…</button>
    <div id="salaryResult" role="alert" aria-live="polite"></div>
  </div>
</div>

<script>
  const webAppUrl = "https://script.google.com/macros/s/AKfycbzU3OkV-8QpPtHTmNDCrGOB5WWt4e1UaL_cfym87PesSW3Vok0k7pcbke5N0QFlwDq_/exec";

  function toggleSection(e) {
    const btn = e.currentTarget;
    const targetId = btn.getAttribute('data-target');
    const section = document.getElementById(targetId);

    const isHidden = section.classList.contains('hidden');
    ['forms', 'phones', 'links'].forEach(id => {
      if(id !== targetId) {
        document.getElementById(id).classList.add('hidden');
        document.querySelector(`button[data-target="${id}"]`).classList.remove('active');
      }
    });

    section.classList.toggle('hidden', !isHidden);
    btn.classList.toggle('active', isHidden);
  }

  function openLink(url) {
    window.open(url, '_blank');
  }

  function showFile(type) {
    // ... ÙƒÙ…Ø§ ÙÙŠ ÙƒÙˆØ¯Ùƒ Ø§Ù„Ø£ØµÙ„ÙŠ ...
  }

  // ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…
  function openSalaryModal() {
    document.getElementById('salaryQueryModal').style.display = 'flex';
    document.getElementById('salaryResult').textContent = '';
    document.getElementById('employeeNumber').value = '';
    document.getElementById('employeePass').value = '';
    document.getElementById('employeeNumber').focus();
  }

  // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© (ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø¥ØºÙ„Ø§Ù‚ Ù„Ùˆ ØªØ±ÙŠØ¯)
  // Ù‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªØ¶ÙŠÙ Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹ Ø²Ø± Ø¥ØºÙ„Ø§Ù‚ Ø£Ùˆ Ø¥ØºÙ„Ø§Ù‚ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„

  // Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…
  async function querySalary() {
    const number = document.getElementById('employeeNumber').value.trim();
    const pass = document.getElementById('employeePass').value.trim();
    const resultDiv = document.getElementById('salaryResult');

    if(!number || !pass) {
      resultDiv.textContent = "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ¸ÙŠÙÙŠ ÙˆØ§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ.";
      return;
    }

    resultDiv.textContent = "Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...";

    try {
      const response = await fetch(`${webAppUrl}?number=${encodeURIComponent(number)}&pass=${encodeURIComponent(pass)}`);
      if(!response.ok) throw new Error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…");

      const data = await response.json();

      if(data.error) {
        resultDiv.textContent = data.error;
      } else {
        resultDiv.textContent = 
          `Ø§Ù„Ø§Ø³Ù…: ${data.name}\n` +
          `Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ: ${data.basic}\n` +
          `Ø§Ù„Ø®ØµÙ…ÙŠØ§Øª: ${data.discount}\n` +
          `Ø§Ù„ØµØ§ÙÙŠ: ${data.net}`;
      }
    } catch(err) {
      resultDiv.textContent = "Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
      console.error(err);
    }
  }
</script>

</body>
</html>
