<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ÿ¥ÿ±ŸÉÿ© ÿßŸÑÿØÿπŸÖ ŸÑŸÑŸÖŸÇÿßŸàŸÑÿßÿ™</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<style>
/* ===== CSS Variables ===== */
:root {
    --primary-color: #4a148c;
    --primary-hover: #6a1b9a;
    --secondary-color: #9575cd;
    --secondary-hover: #7e57c2;
    --accent-color: #ffd700;
    --text-color: #333;
    --light-bg: #f5f5f5;
}

/* ===== General Styles ===== */
body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(-45deg, #e0f7fa, #e1bee7, #d1c4e9, #b2dfdb);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    margin: 0; 
    padding: 20px; 
    color: var(--text-color);
    min-height: 100vh;
    text-align: center;
}

@keyframes gradientBG {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.welcome-banner {
    background: rgba(255,255,255,0.8);
    border-radius: 16px;
    padding: 15px;
    margin: 0 auto 25px;
    max-width: 500px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    border: 1px solid rgba(74,20,140,0.1);
    animation: fadeInDown 0.6s ease;
}

.welcome-banner h2 {
    font-weight: 700;
    font-size: 1.8rem;
    margin-bottom: 5px;
    color: var(--primary-color);
}

.welcome-banner p {
    color: #666;
    margin-top: 8px;
    font-size: 1.1rem;
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===== Buttons ===== */
button.button {
    background-color: var(--primary-color); 
    color: white; 
    border: none; 
    border-radius: 14px;
    padding: 14px 20px; 
    margin: 10px auto; 
    width: 90%; 
    max-width: 360px;
    font-size: 1.1rem; 
    cursor: pointer; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    gap: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(74,20,140,0.3);
    position: relative;
    overflow: hidden;
}

button.button:hover { 
    background-color: var(--primary-hover); 
    transform: translateY(-3px); 
    box-shadow: 0 6px 12px rgba(106,27,154,0.4);
}

button.button:active { 
    transform: scale(0.97); 
    animation: shake 0.4s ease;
}

button.button.active { 
    background-color: #7b1fa2; 
    box-shadow: 0 6px 12px rgba(123,31,162,0.6); 
}

button.button i { 
    font-size: 1.4rem; 
    color: var(--accent-color); 
}

button.button::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: rgba(255,255,255,0.1);
    transform: rotate(30deg);
    transition: all 0.3s ease;
}

button.button:hover::after {
    left: 100%;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-5px); }
    40%, 80% { transform: translateX(5px); }
}

/* ===== Sections ===== */
.sub-buttons, .phone-list, .links-box {
    background: white; 
    border-radius: 16px; 
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    margin: 10px auto 25px; 
    max-width: 360px; 
    width: 90%; 
    padding: 15px 20px; 
    text-align: right; 
    direction: rtl;
    animation: fadeIn 0.4s ease forwards;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.sub-buttons:hover, .phone-list:hover, .links-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 20px rgba(0,0,0,0.15);
}

.hidden { display: none; }

@keyframes fadeIn { 
    from { opacity: 0; transform: translateY(10px); } 
    to { opacity: 1; transform: translateY(0); } 
}

/* Sub Buttons */
.sub-buttons .button, .links-box .button {
    background-color: var(--secondary-color); 
    color: white; 
    font-size: 1rem; 
    padding: 12px 15px; 
    margin: 8px auto;
    max-width: 320px; 
    width: 100%; 
    box-shadow: 0 3px 6px rgba(149,117,205,0.5);
}

.sub-buttons .button:hover, .links-box .button:hover { 
    background-color: var(--secondary-hover); 
}

/* Phone List */
.phone-list p { 
    font-size: 1rem; 
    margin: 8px 0; 
    color: #555; 
    display: flex; 
    align-items: center; 
    gap: 8px; 
    justify-content: flex-end; 
}

.phone-list p::before { 
    content: "üìå"; 
    font-size: 1.1rem; 
}

/* Search Input */
.search-box {
    width: 90%;
    padding: 12px;
    margin: 10px auto;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
    display: block;
}

/* ===== ÿ™ÿ∞ŸäŸäŸÑ ÿßŸÑÿµŸÅÿ≠ÿ© ŸÖÿπ ÿßÿ≥ŸÖ ÿßŸÑŸÖÿµŸÖŸÖ ===== */
.footer {
    margin-top: 40px;
    padding: 20px;
    text-align: center;
    position: relative;
}

.designer-signature {
    display: inline-block;
    background: linear-gradient(135deg, #4a148c, #7b1fa2);
    color: white;
    padding: 10px 25px;
    border-radius: 30px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(74, 20, 140, 0.3);
    transform: perspective(500px) rotateX(5deg);
    transition: all 0.3s ease;
    border: 2px solid rgba(255, 215, 0, 0.3);
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.designer-signature:hover {
    transform: perspective(500px) rotateX(0) translateY(-3px);
    box-shadow: 0 6px 16px rgba(74, 20, 140, 0.4);
}

.designer-signature::before {
    content: "‚úçÔ∏è";
    margin-left: 8px;
    font-size: 1.2em;
}

/* ===== ÿ™ŸÅÿµŸäŸÑ ÿßŸÑÿÆÿµŸàŸÖÿßÿ™ ŸÅŸä ÿ¨ÿØŸàŸÑ ===== */
.deductions-table {
    width: 100%;
    margin: 15px 0;
    border-collapse: collapse;
    background: rgba(244, 67, 54, 0.05);
    border-radius: 8px;
    overflow: hidden;
}

.deductions-table th {
    background: rgba(244, 67, 54, 0.1);
    color: #f44336;
    padding: 8px;
    font-weight: 700;
}

.deductions-table td {
    padding: 8px;
    border-bottom: 1px solid rgba(244, 67, 54, 0.1);
}

.deductions-table tr:last-child td {
    border-bottom: none;
}

.deductions-table .deduction-value {
    color: #f44336;
    font-weight: 600;
}

/* ===== Modal ===== */
#salaryQueryModal { 
    display: none; 
    position: fixed; 
    top: 0; 
    left: 0; 
    right: 0; 
    bottom: 0; 
    background: rgba(0,0,0,0.6); 
    justify-content: center; 
    align-items: center; 
    z-index: 9999; 
    overflow-y: auto;
    padding: 20px 0;
}

#salaryQueryModal .modal-content { 
    background: white; 
    padding: 20px; 
    border-radius: 12px; 
    max-width: 420px; 
    width: 92%; 
    text-align: right; 
    direction: rtl;
    max-height: 90vh;
    overflow-y: auto;
    animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

#salaryQueryModal label { 
    display: block; 
    margin-top: 8px; 
    text-align: right; 
}

#salaryQueryModal input, #salaryQueryModal select {
    width: 100%; 
    padding: 10px; 
    margin: 8px 0; 
    font-size: 1rem; 
    border: 1px solid #ccc; 
    border-radius: 6px; 
    box-sizing: border-box;
}

#salaryQueryModal .modal-actions { 
    display: flex; 
    gap: 10px; 
    margin-top: 8px; 
}

#salaryQueryModal .btn { 
    flex: 1; 
    background-color: var(--primary-color); 
    color: white; 
    border: none; 
    padding: 10px; 
    border-radius: 10px; 
    cursor: pointer; 
}

#salaryQueryModal .btn.secondary { 
    background: #777; 
}

/* Salary Result */
#salaryResult { 
    margin-top: 15px; 
    text-align: right; 
    color: var(--text-color); 
    font-weight: 600; 
    white-space: pre-line; 
    overflow-x: auto;
}

.salary-card {
    background: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    margin-bottom: 15px;
}

.salary-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 15px;
}

.salary-amount {
    font-size: 1.5rem;
    color: var(--primary-color);
    font-weight: bold;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    margin: 10px 0;
}

.print-btn {
    margin-top: 15px !important;
    background-color: #607d8b !important;
}

/* Toast Notifications */
.toast {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #4caf50;
    color: white;
    padding: 12px 20px;
    border-radius: 4px;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s;
}

.toast.show {
    opacity: 1;
}

.toast.error {
    background: #f44336;
}

/* Dark Mode Toggle */
.dark-mode-toggle {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: var(--primary-color);
    color: white;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    z-index: 1000;
    transition: all 0.3s ease;
}

.dark-mode-toggle:hover {
    transform: scale(1.1);
}

/* Dark Mode Styles */
.dark-mode {
    background: linear-gradient(to right, #121212, #1e0033);
    color: #eee;
}

.dark-mode .welcome-banner,
.dark-mode .sub-buttons,
.dark-mode .phone-list,
.dark-mode .links-box,
.dark-mode .salary-card,
.dark-mode #salaryQueryModal .modal-content {
    background: #222;
    color: #eee;
    border: 1px solid #333;
}

.dark-mode .welcome-banner p,
.dark-mode .phone-list p {
    color: #ccc;
}

.dark-mode button.button {
    background-color: #673ab7;
}

.dark-mode .sub-buttons .button,
.dark-mode .links-box .button {
    background-color: #5e35b1;
}

.dark-mode .search-box,
.dark-mode #salaryQueryModal input,
.dark-mode #salaryQueryModal select {
    background: #333;
    color: #fff;
    border-color: #444;
}

.dark-mode .designer-signature {
    background: linear-gradient(135deg, #673ab7, #9575cd);
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    border-color: rgba(255, 215, 0, 0.2);
}

.dark-mode .deductions-table {
    background: rgba(244, 67, 54, 0.08);
}

.dark-mode .deductions-table th {
    background: rgba(244, 67, 54, 0.15);
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: #555;
}

/* Responsive */
@media (max-width: 600px) {
    .welcome-banner h2 { font-size: 1.5rem; }
    button.button { font-size: 1rem; padding: 12px 16px; }
    .sub-buttons .button, .links-box .button { font-size: 0.95rem; padding: 10px 14px; }
    .phone-list p { font-size: 0.9rem; }
}
</style>
</head>
<body>

<div class="welcome-banner">
    <h2>üëã ŸÖÿ±ÿ≠ÿ®Ÿãÿß ÿ®ŸÉ ŸÅŸä ŸÜÿ∏ÿßŸÖ ÿ¥ÿ±ŸÉÿ© ÿßŸÑÿØÿπŸÖ ŸÑŸÑŸÖŸÇÿßŸàŸÑÿßÿ™</h2>
    <p>ŸÜÿ∏ÿßŸÖ ŸÖÿ™ŸÉÿßŸÖŸÑ ŸÑÿÆÿØŸÖÿßÿ™ ÿßŸÑŸÖŸàÿ∏ŸÅŸäŸÜ ŸàÿßŸÑÿßÿ≥ÿ™ÿπŸÑÿßŸÖÿßÿ™</p>
</div>

<!-- ÿßŸÑÿ£ÿ≤ÿ±ÿßÿ± -->
<button class="button" data-target="forms" onclick="toggleSection(event)">
    <i class="fas fa-file-alt"></i> ÿßŸÑŸÜŸÖÿßÿ∞ÿ¨
</button>
<div id="forms" class="sub-buttons hidden" role="region" aria-label="ŸÜŸÖÿßÿ∞ÿ¨ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™">
    <button class="button" onclick="showFile('ÿ∑ŸÑÿ®-ÿ•ÿ¨ÿßÿ≤ÿ©')"><i class="fas fa-file-signature"></i> ÿ∑ŸÑÿ® ÿ•ÿ¨ÿßÿ≤ÿ©</button>
    <button class="button" onclick="showFile('ÿ∑ŸÑÿ®-ÿ≥ŸÑŸÅÿ©')"><i class="fas fa-money-check-alt"></i> ÿ∑ŸÑÿ® ÿ≥ŸÑŸÅÿ© ŸÖÿßŸÑŸäÿ©</button>
    <button class="button" onclick="showFile('ÿµŸäÿßŸÜÿ©-ÿ≥Ÿäÿßÿ±ÿ©')"><i class="fas fa-car-side"></i> ÿ∑ŸÑÿ® ÿµŸäÿßŸÜÿ© ÿ≥Ÿäÿßÿ±ÿ©</button>
    <button class="button" onclick="showFile('ŸÖÿ®ŸÑÿ∫-ÿßŸÑÿÆÿ≤ŸäŸÜÿ©')"><i class="fas fa-wallet"></i> ÿ∑ŸÑÿ® ŸÖÿ®ŸÑÿ∫ ŸÖŸÜ ÿßŸÑÿÆÿ≤ŸäŸÜÿ©</button>
    <button class="button" onclick="showFile('ÿπŸÖŸÑ-ÿ•ÿ∂ÿßŸÅŸä')"><i class="fas fa-clock"></i> ÿ∑ŸÑÿ® ÿπŸÖŸÑ ÿ•ÿ∂ÿßŸÅŸä</button>
    <button class="button" onclick="showFile('ÿ™ÿ≠ŸàŸäŸÑ-ÿπŸáÿØÿ©')"><i class="fas fa-box"></i> ÿ™ÿ≠ŸàŸäŸÑ ÿπŸáÿØÿ© ÿ¥ÿÆÿµŸäÿ©</button>
    <button class="button" onclick="showFile('ÿπŸÑÿßŸàÿ©-ÿ≥ŸÅÿ±')"><i class="fas fa-plane"></i> ÿπŸÑÿßŸàÿ© ÿ≥ŸÅÿ±</button>
    <button class="button" onclick="showFile('ÿ£ŸÖÿ±-ÿπŸÖŸÑ')"><i class="fas fa-tools"></i> ÿ£ŸÖÿ± ÿπŸÖŸÑ Ÿàÿ±ÿ¥ÿ©</button>
    <button class="button" onclick="showFile('ÿ∑ŸÑÿ®-ÿ•ÿ∞ŸÜ')"><i class="fas fa-calendar-check"></i> ÿ∑ŸÑÿ® ÿ•ÿ∞ŸÜ</button>
    <button class="button" onclick="showFile('ÿ™ÿ±ÿ¨Ÿäÿπ-ŸÖŸàÿßÿØ')"><i class="fas fa-undo-alt"></i> ÿ™ÿ±ÿ¨Ÿäÿπ ŸÖŸàÿßÿØ ŸÑŸÑŸÖÿÆÿ≤ŸÜ</button>
    <button class="button" onclick="showFile('ÿ∑ŸÑÿ®-ÿ®ÿ∞ŸÑ-Ÿàÿ£ÿ≠ÿ∞Ÿäÿ©')"><i class="fas fa-shoe-prints"></i> ÿ∑ŸÑÿ® ÿ®ÿ∞ŸÑ Ÿàÿ£ÿ≠ÿ∞Ÿäÿ©</button>
</div>

<button class="button" data-target="phones" onclick="toggleSection(event)">
    <i class="fas fa-phone"></i> ÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑŸáŸàÿßÿ™ŸÅ ÿßŸÑÿØÿßÿÆŸÑŸäÿ©
</button>
<div id="phones" class="phone-list hidden" role="region" aria-label="ÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑŸáŸàÿßÿ™ŸÅ ÿßŸÑÿØÿßÿÆŸÑŸäÿ©">
    <input type="text" class="search-box" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÇÿ≥ŸÖ ÿ£Ÿà ÿ±ŸÇŸÖ..." id="phoneSearch">
    <p>ÿßŸÑŸÖÿØŸäÿ± ÿßŸÑÿπÿßŸÖ: <strong>116</strong></p>
    <p>ŸÖÿ±ÿßŸÇÿ®ÿ© ÿßŸÑÿ¨ŸàÿØÿ©: <strong>101</strong></p>
    <p>ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ¥ÿ§ŸàŸÜ ÿßŸÑŸÖÿßŸÑŸäÿ©: <strong>102</strong></p>
    <p>ÿßŸÑÿ¥ÿ§ŸàŸÜ ÿßŸÑÿ•ÿØÿßÿ±Ÿäÿ©: <strong>103</strong></p>
    <p>ÿßŸÑÿÆÿ≤ŸäŸÜÿ©: <strong>104</strong></p>
    <p>ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™: <strong>106</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ©: <strong>107</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ÿßŸÑÿ£ÿµŸàŸÑ: <strong>108</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ÿßŸÑÿ™ÿµÿßŸÖŸäŸÖ: <strong>109</strong></p>
    <p>ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπÿßÿ™: <strong>110</strong></p>
    <p>ÿßŸÑÿ¥ÿ§ŸàŸÜ ÿßŸÑŸÅŸÜŸäÿ©: <strong>112</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™: <strong>113</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ŸÖÿµÿ∑ŸÅŸâ ÿØÿ±ÿ≤: <strong>115</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ÿßŸÑÿ™Ÿàÿ´ŸäŸÇ ŸàÿßŸÑŸÖÿ™ÿßÿ®ÿπÿ©: <strong>117</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ÿßŸÑÿ•ÿπŸÑÿßŸÖ: <strong>118</strong></p>
    <p>ŸÖŸÉÿ™ÿ® ÿπÿ®ÿØÿßŸÑÿ≥ŸÑÿßŸÖ ÿ£ÿ®Ÿà ÿ≠ÿ¨ÿ±: <strong>123</strong></p>
    <p>ŸÇÿ≥ŸÖ ÿßŸÑŸÉŸáÿ±ÿ®ÿßÿ°: <strong>120</strong></p>
    <p>ŸÖŸÇŸáŸâ (ÿ∫ÿßŸÜÿØŸä): <strong>223</strong></p>
    <p>ŸÖŸÇŸáŸâ (ÿ≠ÿ≥ŸÜ): <strong>105</strong></p>
</div>

<button class="button" data-target="links" onclick="toggleSection(event)">
    <i class="fas fa-globe"></i> ÿßŸÑÿµŸÅÿ≠ÿßÿ™ ŸàÿßŸÑŸÖÿ¨ŸÖŸàÿπÿßÿ™ ÿßŸÑÿ±ÿ≥ŸÖŸäÿ©
</button>
<div id="links" class="links-box hidden" role="region" aria-label="ÿ±Ÿàÿßÿ®ÿ∑ ÿßŸÑÿµŸÅÿ≠ÿßÿ™ ÿßŸÑÿ±ÿ≥ŸÖŸäÿ©">
    <button class="button" onclick="openLink('https://www.facebook.com/share/15ws7sBHJe/')">
        <i class="fab fa-facebook"></i> ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ≥ŸÖŸäÿ© ÿπŸÑŸâ ŸÅŸäÿ≥ÿ®ŸàŸÉ
    </button>
    <button class="button" onclick="openLink('https://chat.whatsapp.com/LW5Hn0DREoz8JLwFlQYVNd?mode=r_c')">
        <i class="fab fa-whatsapp"></i> ŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑŸàÿßÿ™ÿ≥ÿßÿ®
    </button>
</div>

<button class="button" onclick="openSalaryModal()">
    <i class="fas fa-money-bill-wave"></i> ÿßŸÑÿßÿ≥ÿ™ÿπŸÑÿßŸÖ ÿπŸÜ ÿßŸÑÿ±ÿßÿ™ÿ®
</button>

<div id="salaryQueryModal" onclick="closeModalOnOutsideClick(event)">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <h3 id="modalTitle"> ÿßŸÑÿßÿ≥ÿ™ÿπŸÑÿßŸÖ ÿπŸÜ ÿßŸÑÿ±ÿßÿ™ÿ® </h3>
        <label for="salaryMonth">ÿßÿÆÿ™ÿ± ÿßŸÑÿ¥Ÿáÿ±:</label>
        <select id="salaryMonth"><option>ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ¥Ÿáÿ±...</option></select>
        <label for="employeeNumber">ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑŸàÿ∏ŸäŸÅŸä:</label>
        <input type="text" id="employeeNumber" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑŸàÿ∏ŸäŸÅŸä" autocomplete="off" />
        <label for="employeePass">ÿßŸÑÿ±ŸÖÿ≤ ÿßŸÑÿ≥ÿ±Ÿä:</label>
        <input type="password" id="employeePass" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑÿ±ŸÖÿ≤ ÿßŸÑÿ≥ÿ±Ÿä" autocomplete="off" />
        <div class="modal-actions">
            <button class="btn" onclick="querySalary()">ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ</button>
            <button class="btn secondary" onclick="closeSalaryModal()">ÿ•ÿ∫ŸÑÿßŸÇ</button>
        </div>
        <div id="salaryResult" role="alert" aria-live="polite"></div>
    </div>
</div>

<div class="footer">
    <div class="designer-signature">Mustafa_Jamal_Darrez</div>
</div>

<script>
const webAppUrl = "https://script.google.com/macros/s/AKfycbwJbpS9Pjq3yhxKaJXlhQ5IelMPYu6eCqwaAP95O3hrhjrW_d4Gq8IAlaPxyez--D6i/exec";

// DOM Loaded
document.addEventListener('DOMContentLoaded', function() {
    initPhoneSearch();
    addDarkModeToggle();
});

function toggleSection(e){
    const btn = e.currentTarget;
    const targetId = btn.getAttribute('data-target');
    const section = document.getElementById(targetId);
    const isHidden = section.classList.contains('hidden');
    
    // Close other sections
    ['forms','phones','links'].forEach(id=>{
        if(id!==targetId){
            document.getElementById(id).classList.add('hidden');
            document.querySelector(`button[data-target="${id}"]`)?.classList.remove('active');
        }
    });
    
    // Toggle current section
    if(section) section.classList.toggle('hidden',!isHidden);
    btn.classList.toggle('active',isHidden);
}

function openLink(url){ 
    window.open(url,'_blank'); 
}

function showFile(type){
    const files = {
        "ÿ∑ŸÑÿ®-ÿ•ÿ¨ÿßÿ≤ÿ©":"https://drive.google.com/file/d/14F9mOApxw9GrZXp-O9ti3YQMVZqHaf-m/view?usp=drive_link",
        "ÿ∑ŸÑÿ®-ÿ≥ŸÑŸÅÿ©":"https://drive.google.com/file/d/1YFIuOCv3oLgLzkS0LTfUwKUMPvelwgZ6/view?usp=drive_link",
        "ÿµŸäÿßŸÜÿ©-ÿ≥Ÿäÿßÿ±ÿ©":"https://drive.google.com/file/d/1PzSLS-yCN0b_mBS3OpYFnBD2drYGNVGs/view?usp=drive_link",
        "ŸÖÿ®ŸÑÿ∫-ÿßŸÑÿÆÿ≤ŸäŸÜÿ©":"https://drive.google.com/file/d/1sDewUsh6_G6SVk498S6oKiE5LqdElN_r/view?usp=drive_link",
        "ÿπŸÖŸÑ-ÿ•ÿ∂ÿßŸÅŸä":"https://drive.google.com/file/d/11XjQvu0vp2XxpCnfDNgRhFCebR1eglRu/view?usp=drive_link",
        "ÿ™ÿ≠ŸàŸäŸÑ-ÿπŸáÿØÿ©":"https://drive.google.com/file/d/1usb7bbwovo6K248dzoE3sI71YupbdKJe/view?usp=drive_link",
        "ÿπŸÑÿßŸàÿ©-ÿ≥ŸÅÿ±":"https://drive.google.com/file/d/1UHs1VJf-9u9FZDn16oFS9Mtj1VYvG7b8/view?usp=drive_link",
        "ÿ£ŸÖÿ±-ÿπŸÖŸÑ":"https://drive.google.com/file/d/1T3GFaTnXm6CrXfOETFkN_t42a7UbWibY/view?usp=drive_link",
        "ÿ∑ŸÑÿ®-ÿ•ÿ∞ŸÜ":"https://drive.google.com/file/d/1PWMVPtfFsUtbEbNZLHfKaMS9bYBq5E8f/view?usp=drive_link",
        "ÿ™ÿ±ÿ¨Ÿäÿπ-ŸÖŸàÿßÿØ":"https://drive.google.com/file/d/1kn1jsYSUmhBrT3Y94XkwVhqUsN9x_Ly5/view?usp=drive_link",
        "ÿ∑ŸÑÿ®-ÿ®ÿ∞ŸÑ-Ÿàÿ£ÿ≠ÿ∞Ÿäÿ©":"https://drive.google.com/file/d/1RQqTqAa9WG03UvT966ZK1axhdFipXhW5/view?usp=drive_link"
    };
    
    const fileUrl = files[type];
    if(fileUrl) {
        window.open(fileUrl,'_blank');
        showToast(`ÿ¨ÿßÿ±Ÿä ŸÅÿ™ÿ≠ ŸÜŸÖŸàÿ∞ÿ¨ ${type}`, 'success');
    }
    else {
        showToast("ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ŸÖŸÑŸÅ ŸÑŸáÿ∞ÿß ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨ ÿ®ÿπÿØ.", 'error');
    }
}

function openSalaryModal(){
    document.getElementById('salaryQueryModal').style.display='flex';
    document.getElementById('salaryResult').textContent='';
    document.getElementById('employeeNumber').value='';
    document.getElementById('employeePass').value='';
    document.getElementById('employeeNumber').focus();
    loadMonths();
}

function closeSalaryModal(){ 
    document.getElementById('salaryQueryModal').style.display='none'; 
}

function closeModalOnOutsideClick(e){ 
    if(e.target.id==='salaryQueryModal') closeSalaryModal(); 
}

function safeValue(value){ 
    return value===undefined||value===null||value===""?"0":value; 
}

async function loadMonths(){
    const select = document.getElementById('salaryMonth');
    select.innerHTML="<option value=''>ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ...</option>";
    try{
        const res = await fetch(`${webAppUrl}?action=months`);
        const months = await res.json();
        select.innerHTML="<option value=''>ÿßÿÆÿ™ÿ± ÿßŸÑÿ¥Ÿáÿ±</option>";
        months.forEach(m=>{
            const opt = document.createElement('option');
            opt.value = m; 
            opt.textContent=m;
            select.appendChild(opt);
        });
    }catch(e){
        select.innerHTML="<option value=''>ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ÿ¥Ÿáÿ±</option>";
        console.error(e);
        showToast("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ£ÿ¥Ÿáÿ±", 'error');
    }
}

async function querySalary(){
    const number = document.getElementById('employeeNumber').value.trim();
    const pass = document.getElementById('employeePass').value.trim();
    const month = document.getElementById('salaryMonth').value;
    const resultDiv = document.getElementById('salaryResult');

    if(!month){ 
        showToast("Ÿäÿ±ÿ¨Ÿâ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ¥Ÿáÿ±", 'error');
        return; 
    }
    if(!number || !pass){ 
        showToast("Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿ±ŸÇŸÖ ÿßŸÑŸàÿ∏ŸäŸÅŸä ŸàÿßŸÑÿ±ŸÖÿ≤ ÿßŸÑÿ≥ÿ±Ÿä", 'error');
        return; 
    }

    resultDiv.innerHTML = '<div style="text-align:center;"><i class="fas fa-spinner fa-spin fa-2x"></i><p>ÿ¨ÿßÿ±Ÿä ÿ¨ŸÑÿ® ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...</p></div>';

    try{
        const response = await fetch(`${webAppUrl}?action=query&month=${encodeURIComponent(month)}&number=${encodeURIComponent(number)}&pass=${encodeURIComponent(pass)}`);
        if(!response.ok) throw new Error("ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ");
        
        const data = await response.json();
        console.log("Response from Apps Script:",data);

        if(data.error){ 
            showToast(data.error, 'error');
            return; 
        }

        // ÿπÿ±ÿ∂ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ© ŸÅŸä ÿ®ÿ∑ÿßŸÇÿ© ÿ¨ŸÖŸäŸÑÿ©
        let html = `
        <div class="salary-card">
            <div class="salary-header">
                <h3>ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ±ÿßÿ™ÿ® ŸÑÿ¥Ÿáÿ± ${month}</h3>
                <span class="salary-amount">${safeValue(data.net)}  ÿØ.ŸÑ</span>
            </div>
            <div class="salary-details">
                <div class="detail-row">
                    <span>ÿßŸÑÿßÿ≥ŸÖ</span>
                    <strong>${data.name || 'ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÅÿ±'}</strong>
                </div>
                <div class="detail-row">
                    <span>ÿßŸÑÿ±ÿßÿ™ÿ® ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä</span>
                    <strong>${safeValue(data.basic)}  ÿØ.ŸÑ</strong>
                </div>
                <div class="detail-row">
                    <span>ÿßŸÑÿπŸÑÿßŸàÿßÿ™</span>
                    <strong>${safeValue(data.bonus)} ÿØ.ŸÑ</strong>
                </div>
                <div class="detail-row">
                    <span>ÿßŸÑÿπŸÖŸÑ ÿßŸÑÿ•ÿ∂ÿßŸÅŸä</span>
                    <strong>${safeValue(data.extra)} ÿØ.ŸÑ</strong>
                </div>
                <div class="detail-row">
                    <span>ÿ®ÿØŸÑ Ÿáÿßÿ™ŸÅ</span>
                    <strong>${safeValue(data.phoneAllowance)} ÿØ.ŸÑ</strong>
                </div>
                
                <!-- ÿ™ŸÅÿµŸäŸÑ ÿßŸÑÿÆÿµŸàŸÖÿßÿ™ ŸÅŸä ÿ¨ÿØŸàŸÑ -->
                <table class="deductions-table">
                    <thead>
                        <tr>
                            <th colspan="2">ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿÆÿµŸàŸÖÿßÿ™</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ÿÆÿµŸÖ ÿßŸÑÿ∫Ÿäÿßÿ®</td>
                            <td class="deduction-value">-${safeValue(data.absenceDeduct)} ÿØ.ŸÑ</td>
                        </tr>
                        <tr>
                            <td>ÿÆÿµŸÖ ÿßŸÑÿπŸÇŸàÿ®ÿ©</td>
                            <td class="deduction-value">-${safeValue(data.penaltyDeduct)}  ÿØ.ŸÑ</td>
                        </tr>
                        <tr>
                            <td>ÿÆÿµŸÖ ÿßŸÑÿ≥ŸÑŸÅÿ©</td>
                            <td class="deduction-value">-${safeValue(data.loanDeduct)}  ÿØ.ŸÑ</td>
                        </tr>
                        <tr>
                            <td><strong>ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿÆÿµŸàŸÖÿßÿ™</strong></td>
                            <td class="deduction-value"><strong>-${(parseFloat(safeValue(data.absenceDeduct)) + parseFloat(safeValue(data.penaltyDeduct)) + parseFloat(safeValue(data.loanDeduct))).toFixed(2)}  ÿØ.ŸÑ</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <button class="button print-btn" onclick="window.print()">
            <i class="fas fa-print"></i> ÿ∑ÿ®ÿßÿπÿ© ÿßŸÑÿ®ŸäÿßŸÜ
        </button>`;
        
        resultDiv.innerHTML = html;
        showToast("ÿ™ŸÖ ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ±ÿßÿ™ÿ® ÿ®ŸÜÿ¨ÿßÿ≠", 'success');
       
    }catch(err){
        console.error(err);
        showToast("ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ¨ŸÑÿ® ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™. ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ ŸÑÿßÿ≠ŸÇŸãÿß.", 'error');
    }
}

// Phone Search Functionality
function initPhoneSearch() {
    const searchInput = document.getElementById('phoneSearch');
    if(searchInput) {
        searchInput.addEventListener('input', function() {
            const filter = this.value.toUpperCase();
            const phoneItems = document.querySelectorAll('#phones p:not(:first-child)');
            
            phoneItems.forEach(item => {
                const text = item.textContent || item.innerText;
                item.style.display = text.toUpperCase().includes(filter) ? '' : 'none';
            });
        });
    }
}

// Dark Mode Toggle
function addDarkModeToggle() {
    const toggle = document.createElement('div');
    toggle.className = 'dark-mode-toggle';
    toggle.innerHTML = '<i class="fas fa-moon"></i>';
    document.body.appendChild(toggle);
    
    // Check for saved user preference
    if(localStorage.getItem('darkMode') === 'enabled') {
        document.body.classList.add('dark-mode');
        toggle.querySelector('i').classList.replace('fa-moon', 'fa-sun');
    }
    
    toggle.addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');
        const icon = this.querySelector('i');
        
        if (document.body.classList.contains('dark-mode')) {
            icon.classList.replace('fa-moon', 'fa-sun');
            localStorage.setItem('darkMode', 'enabled');
        } else {
            icon.classList.replace('fa-sun', 'fa-moon');
            localStorage.setItem('darkMode', 'disabled');
        }
    });
}

// Toast Notification
function showToast(message, type = 'success') {
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    toast.textContent = message;
    document.body.appendChild(toast);
    
    setTimeout(() => {
        toast.classList.add('show');
        setTimeout(() => {
            toast.remove();
        }, 3000);
    }, 100);
}
</script>

</body>
</html>
